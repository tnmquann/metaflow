includeConfig 'conf/modules.config'
includeConfig 'conf/base.config'
includeConfig 'conf/params.config'
includeConfig 'conf/profiles.config'

workflow.onComplete {
    println "Pipeline completed at: $workflow.complete"
    println "Execution status: ${ workflow.success ? 'OK' : 'failed' }"
    
    if (workflow.success) {
        println "Results are in: ${params.base_dir}"
        if (params.cleanup) {
            println "Cleaning up Nextflow cache..."
            try {
                workflow.cleanup()
            } catch (Exception e) {
                println "Warning: Failed to clean Nextflow cache: ${e.message}"
            }
            println "Cleanup process completed"
        }
    }
}